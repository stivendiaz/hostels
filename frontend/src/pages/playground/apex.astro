---
import StaticLayout from '../../layouts/user/Static.astro';
---

<StaticLayout slim={false}>
  <div class='px-4 pt-6'>
    <div class='grid grid-cols-1 my-4 xl:grid-cols-2 xl:gap-4'>
      <!-- Activity Card -->
      <div
        class='p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800 xl:mb-0'
      >
        <div id='main-chart'></div>
      </div>
    </div>
  </div>
</StaticLayout>

<script>
  import ApexCharts from 'apexcharts';

  if (typeof window !== 'undefined') {
    console.log('there is a window');

    if (document.getElementById('main-chart')) {
      var options = {
        series: [
          {
            name: 'Desktops',
            data: [10, 41, 35, 51, 49, 62, 69, 91, 148],
          },
        ],
        chart: {
          height: 350,
          type: 'line',
          zoom: {
            enabled: false,
          },
        },
        dataLabels: {
          enabled: false,
        },
        stroke: {
          curve: 'straight',
        },
        title: {
          text: 'Product Trends by Month',
          align: 'left',
        },
        grid: {
          row: {
            colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns
            opacity: 0.5,
          },
        },
        xaxis: {
          categories: [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'Jun',
            'Jul',
            'Aug',
            'Sep',
          ],
        },
      };

      var chart = new ApexCharts(
        document.querySelector('#main-chart'),
        options,
      );
      chart.render();
    }
  }
</script>
